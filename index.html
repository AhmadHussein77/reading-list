<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Brandon Amos: Reading List</title>

  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/grayscale.css" rel="stylesheet">

  <!-- Custom Fonts -->
  <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
      <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top"
      onload="loadLists()">
  <!-- Navigation -->
  <nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle"
                data-toggle="collapse" data-target=".navbar-main-collapse">
          <i class="fa fa-bars"></i>
        </button>
        <a class="navbar-brand page-scroll" href="#page-top">
          <i class="fa fa-book"></i>  <span class="light">Reading</span> List
        </a>
      </div>

      <div class="collapse navbar-collapse navbar-right navbar-main-collapse">
        <ul class="nav navbar-nav">
          <!-- Hidden li included to remove active class from about link
               when scrolled up past about section -->
          <li class="hidden"><a href="#page-top"></a></li>
          <!-- <li><a class="page-scroll" href="#about">About</a></li> -->
          <li><a class="page-scroll" href="#rHead">To Read</a></li>
          <li><a class="page-scroll" href="#fHead">Finished</a></li>
          <li><a class="page-scroll" href="#cHead">Compilations</a></li>
        </ul>
      </div> <!-- /.navbar-collapse -->
    </div> <!-- /.container -->
  </nav>


  <!-- Intro Header -->
  <header class="intro">
    <div class="intro-body">
      <div class="container">
        <div class="row">
          <div class="col-md-8 col-md-offset-2">
            <h1>Reading List</h1>
            <p class="intro-text">
              Welcome to my open source reading list.
            </p>
            <p>
              This is freely hosted using
              <a href="https://pages.github.com/" target="_blank">Github Pages</a>.<br>
              The source is available on GitHub at
              <a href="https://github.com/bamos/reading-list" target="_blank">bamos/reading-list</a> and<br>
              includes instructions on making one of your own.
            </p>
            <a href="#rHead" class="btn btn-circle page-scroll">
              <i class="fa fa-angle-double-down animated"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- To Read -->
  <section id="rHead" class="container content-section">
    <div class="finished-section">
      <div class="container">
        <div class="col-lg-8 col-lg-offset-2">
          <h2>To Read</h2>
          <!-- <a target="_blank" href= -->
          <!-- "https://github.com/bamos/reading-list/blob/gh-pages/data/to-read.yaml"> -->
          <!-- Suggest</a> -->
          <div id="to-read"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Finished -->
  <section id="fHead" class="container content-section">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2">
        <h2>Finished</h2>
        <!-- <a target="_blank" href= -->
           <!-- "https://github.com/bamos/reading-list/blob/gh-pages/data/finished.yaml"> -->
          <!-- Data</a> -->
        <div id="finished"></div>
      </div>
    </div>
  </section>

  <!-- Compilations -->
  <section id="cHead" class="container content-section">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2">
        <h2>Compilations</h2>
        <!-- <a target="_blank" href= -->
           <!-- "https://github.com/bamos/reading-list/blob/gh-pages/data/compilations.yaml"> -->
          <!-- Suggest</a> -->
        <div id="compilations"></div>
      </div>
    </div>
  </section>

  <script id="to-read-tmpl" type="text/x-handlebars-template">
<ul>
  {{#each this}}
    <li>
      {{this.author}} - {{this.title}}
    </li>
  {{/each}}
</ul>
  </script>
  <script id="finished-tmpl" type="text/x-handlebars-template">
<ul>
  {{#each this}}
    <li>
      {{this.author}} - {{this.title}}
      <!-- {{#if this.quotes}} -->
        <!-- <small>[<a href="#{{this.author}}{{this.title}}">Quotes</a>]</small> -->
      <!-- {{/if}} -->
      <ul>
        <li>Finished: {{this.finished}}
        <li>Rating: {{this.rating}}
      </ul>
    </li>
    <!-- {{#if this.quotes}} -->
    <!--   <section class="modal--show" id="{{this.author}}{{this.title}}" -->
    <!--     tabindex="-1" role="dialog" aria-labelledby="label-show" -->
    <!--     aria-hidden="true"> -->

    <!--     <div class="modal-inner"> -->
    <!--       <header><h2 id="label-show">{{this.title }} Quotes</h2></header> -->

    <!--       <div class="modal-content"> -->
    <!--         <p> -->
    <!--           <ul> -->
    <!--             {{#each this.quotes }} -->
    <!--               <li> -->
    <!--                 <strong>Page {{this.page}}.</strong> -->
    <!--                 {{this.content}} -->
    <!--               </li> -->
    <!--             {{/each}} -->
    <!--           </ul> -->
    <!--         </p> -->
    <!--       </div> -->
    <!--     </div> -->

    <!--     <a href="#!" class="modal-close" title="Close this modal" -->
    <!--       data-dismiss="modal" data-close="Close">&times;</a> -->
    <!--   </section> -->
    <!-- {{/if}} -->
  {{/each}}
</ul>
  </script>
  <script id="comp-tmpl" type="text/x-handlebars-template">
<ul>
  {{#each this}}
    <li>
      <a href='{{this.url}}' >{{this.title}}</a>
    </li>
  {{/each}}
</ul>
  </script>

  <script src="//static.getclicky.com/js" type="text/javascript"></script>
  <script src="js/jquery-1.11.0.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/grayscale.js"></script>
  <script src="js/js-yaml.min.js"></script>
  <script src="js/handlebars-v1.3.0.js"></script>
  <script src="js/sp.js"></script>
  <script type="text/javascript">
var to_read_tmpl = Handlebars.compile($('#to-read-tmpl').html());
var finished_tmpl = Handlebars.compile($('#finished-tmpl').html());
var comp_tmpl = Handlebars.compile($('#comp-tmpl').html());
function loadYAML(name, f) {
  var client = new XMLHttpRequest();
  client.open('GET', 'data/' + name + '.yaml');
  client.onreadystatechange = function() {
    var yaml = jsyaml.load(client.responseText);
    if (yaml) {
      f(yaml);
    }
  }
  client.send();
}
function loadLists() {
  loadYAML("to-read", function(yaml) {
    yaml.sort(function(a,b) {
      return a.author.localeCompare(b.author);
    });
    $("#to-read").html(to_read_tmpl(yaml));
  });
  loadYAML("finished", function(yaml) {
    yaml.sort(function(a,b) {
      if (a.finished > b.finished) return -1;
      if (a.finished < b.finished) return 1;
      return 0;
    });
    function dateString(d) {
      return d.getFullYear().toString() + "/" +
        (d.getMonth() + 1).toString() + "/" +
        (d.getDate() + 1).toString();
    }
    var len = yaml.length;
    for (var i = 0; i < len; i++) {
      yaml[i].finished = dateString(yaml[i].finished);
    }
    $("#finished").html(finished_tmpl(yaml));
  });
  loadYAML("compilations", function(yaml) {
    yaml.sort(function(a,b) {
      return a.title.localeCompare(b.title);
    });
    $("#compilations").html(comp_tmpl(yaml));
  });
}

try{ clicky.init(100602499); }catch(e){}
try {
  var snowplowTracker = Snowplow.getTrackerUrl('derecho.elijah.cs.cmu.edu:8080');
  snowplowTracker.enableLinkTracking();
  snowplowTracker.trackPageView();
} catch (err) {}
  </script>
</body>
</html>
