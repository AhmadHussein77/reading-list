<!DOCTYPE html>
<html>
<head>
  <title>Brandon Amos: Reading List</title>
  <style>
@import url("http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,700");
h1,h2 {
  font-family: "Open Sans","Helvetica Neue",Helvetica,Arial,sans-serif;
  font-weight: 300;
  line-height: 1.1;
}
h1 { font-size: 26px }
h2 { font-size: 20px }
a {
  color: #008cba;
  cursor: auto;
  text-decoration: none;
}
a:hover {text-decoration:underline;}
#footer {
  clear: both;
  padding-top: 20px;
  text-align: center;
  color: #666;
}
  </style>
</head>
<body>
  <h1>Brandon Amos: Reading List</h1>
  <h2>To Read</h2>
  <div id="to-read"></div>
  <div id="footer">
Crafted by <a href="http://bamos.io/about">Brandon Amos</a>. |
<a href="http://github.com/bamos/reading-list">Open-sourced on GitHub</a>.
  </div>

  <script id="list-tmpl" type="text/x-handlebars-template">
<ul>
  {{#each this}}
    <li>
      {{ this.author }} - {{ this.title }}
    </li>
  {{/each}}
</ul>
  </script>

  <script src="//static.getclicky.com/js" type="text/javascript"></script>
  <script src="js/jquery-1.11.0.min.js"></script>
  <script src="js/js-yaml.min.js"></script>
  <script src="js/handlebars-v1.3.0.js"></script>
  <script type="text/javascript">
var client = new XMLHttpRequest();
var tmpl = Handlebars.compile($('#list-tmpl').html());
client.open('GET', 'data/to-read.yaml');
client.onreadystatechange = function() {
  var to_read = jsyaml.load(client.responseText);
  to_read.sort(function(a,b) {
    return a.author.localeCompare(b.author);
  });
  $("#to-read").html(tmpl(to_read));
}
client.send();
try{ clicky.init(100602499); }catch(e){}
  </script>
</body>
</html>
